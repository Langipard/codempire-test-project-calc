# codempire-test-project-calc

Доброго дня. Скидываю то что успел реализовать. Недоделанно только полторы кнопки так как с той логикой которую я продумал - нужны знания в регулярных выражениях которых у меня чуть более чем нет. Ну и дизайн, да. Столкнулся с определенными проблемами которые опишу чуть ниже по порядку.

Калькулятором на айфоне я не пользовался, поэтому продумывая логику написания калькулятора исходя из своих личных размышлений на этот счет + дефолтный калькулятор с андроида. Додумался скачать копию айосовкого калькулятора слишком поздно, так как костяк логики был уже реализован а переделывать времени не было(((.

Собствено по поводу логики дизайна. Был создан массив массивов кнопок, где каждый внутренний массив отвечал за ряд кнопок. Не хотел отдельно хардкодить каждую кнопку, так как это менее читабельней. В приципе все отрендерилось хорошо, и легко поддается стилиззации. Плюс это все легкозаменяемо и добовляемо. Изначально хотел прикрепить основную логику к блокам <View>, но все же отдал предпочтения <Button> о чем потом пожалел, так как в кнопках слишком скудный дизайн, и добиться нужного результата что бы выглядело вот как в айфоне - нельзя.

После создания более вразумительного дизайна перешел к логике, которая отвечает за нажатие кнопок и вывода на основной экран информации. Использовал хук состояния, так как хуки более понятные и читабельные нежели конструкторы и компонент монтирования. Создал функцию, которая вызывается каждый раз, когда нажимается кнопка, и исходя из кнопки включается сценарий как что работает.

Моя проработанная логика вышла немного сложнее, чем она есть на айфоне, так как там выводится только одно число на экран и никаких операторов. У меня же можно выводить сразу целые уравнения. Сложность в том, что при реализации некоторых кнопок код становился слишком громоздким, и использование регулярных выражений обязателен, ибо без них код либо вообще невозможно будет нормально написать, либо все превратится в громоздкую пасту. Вспоминая то, что в регулярках я не силен, я и не успел додизайнить полторы кнопки, а именно полностью "%" и наполовину "плюс-минус". Почему "плюс-минус" наполовину? Нажмите на эту кнопку несколько раз в подряд и экран заполнится минусами. С регулярками, что в первой недоработанной кнопке что и во второй, надо отделить всё выражение от последнего числа, в случае "плюс-минус" для того, что бы не выводилось много минусов, а для "%" что бы брать процент от отделенного выражения.
Думаю не стоит говорить, что кнопки памяти вообще не вписываются в мою логику, а если и впишутся, то слишком костыльно.

Когда решил додизайнить все до конца, осознал что <Button> не задизайнится так как надо, поэтому решил пересесть с иглы кнопок на блоки и просто повесить на них обработчик). Обработчик "OnPress" почему то не повесился (а я мысленно уже да). Он
как бы в момент рендеринга начинает работать сразу на всех кнопках. Методом тыка понял, что во первых это не вина хука, а во вторых он так работает абсолютно во всех строчках кода при использовании <View> либо <Text>. НО при использовании этого же обработчика на <Button> все работает исправно. В чем проблема - я уже не узнаю, так как и сил и времени уже нету.
